server {
    # O servidor escutará na porta 80, que é a porta padrão para HTTP
    listen 80;

    # Define o diretório onde os arquivos do site (buildados) estão localizados
    root /usr/share/nginx/html;

    # O arquivo padrão a ser servido quando um diretório é solicitado
    index index.html;

    # Configuração crucial para Single-Page Applications (SPAs) como o React
    location / {
        # Tenta servir o arquivo exato que o navegador pediu (ex: /logo.png).
        # Se não encontrar, tenta servir um diretório com esse nome.
        # Se falhar novamente, redireciona a requisição para o /index.html.
        # Isso permite que o roteamento do React (React Router) controle a navegação.
        try_files $uri $uri/ /index.html;
    }

    # Opcional, mas recomendado: Adiciona headers de cache para arquivos estáticos
    # para melhorar a performance. O navegador guardará esses arquivos por 1 ano.
    location ~* \.(?:css|js|jpg|jpeg|gif|png|ico|svg|webp)$ {
        expires 1y;
        add_header Cache-Control "public";
    }
}
